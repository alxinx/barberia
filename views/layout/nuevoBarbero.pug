

//- Contenedor principal (ajusta donde lo necesites)
main(class="min-h-screen bg-[#F7F7FB] px-6 py-8")
  section(class="max-w-5xl mx-auto")
    div(class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8")
      h2(class="text-lg font-semibold text-slate-800 mb-6") Datos del barbero
          //toast
          if success
              each exito in success
                  div(class="flex items-center max-w-sm w-full bg-green-50 border border-green-400 text-green-800 px-4 py-3 rounded-2xl shadow-lg animate-slideIn")
                      svg(class="w-5 h-5 mr-2 text-green-500", xmlns="http://www.w3.org/2000/svg", fill="none", viewBox="0 0 24 24", stroke="currentColor")
                      path(stroke-linecap="round", stroke-linejoin="round", stroke-width="2", d="M6 18L18 6M6 6l12 12")
                      span(class="text-sm font-medium")=exito.msg
        


      //End Toast


      form( method="POST" enctype="multipart/form-data" class="space-y-6")
        input(type="hidden", name="_csrf" value = csrfToken)
        input(type="hidden", name="idBarbero" value  = (usuario ? usuario.idBarbero : ""))
        

        //-Datos Personales.

        //- Nombre Barbería
        div(class="grid grid-cols-1 md:grid-cols-3 gap-4")
            div
             label(for="nombreBarbero" class="block text-sm font-medium text-slate-700 mb-1") Nombre del Barbero
                input(
                type="text"
                id="nombreBarbero"
                name="nombreBarbero"
                placeholder="Julian (SIN APELLIDO)"
                value = usuario ? usuario.nombreBarbero : ""
                class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                )
                if errs
                    p(class="text-red-600 font-bold")=errs.nombreBarbero 
                    

            
            div
             label(for="apellidoBarbero" class="block text-sm font-medium text-slate-700 mb-1") Apellido del Barbero
                input(
                type="text"
                id="apellidoBarbero"
                name="apellidoBarbero"
                placeholder="Perez"
                value = usuario ? usuario.apellidoBarbero : ""
                class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                )
                if errs
                    p(class="text-red-600 font-bold")=errs.apellidoBarbero 
            
            div
             label(for="identificacionBarbero" class="block text-sm font-medium text-slate-700 mb-1") Identificación.
                input(
                type="text"
                id="identificacionBarbero"
                name="identificacionBarbero"
                placeholder="1020304050"
                value = usuario ? usuario.identificacionBarbero : ""
                class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                )
                if errs
                    p(class="text-red-600 font-bold")=errs.identificacionBarbero

                if errores
                  each err  in errores
                    if err.params == 'identificacionBarbero'
                      p(class="text-red-600 font-bold")=err.msg

               
        
        //- Ciudad + Capacidad
        div(class="grid grid-cols-1 md:grid-cols-4 gap-4")
          div
            label(for="ciudad" class="block text-sm font-medium text-slate-700 mb-1") Ciudad
                input(
                type="text"
                id="ciudad"
                name="ciudad"
                placeholder="Medellín",
                value = usuario ? usuario.ciudad : ""
                class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                )
                if errs
                    p(class="text-red-600 font-bold")=errs.ciudad
            




          div
            label(for="direccionBarbero" class="block text-sm font-medium text-slate-700 mb-1") Dirección
                input(
                type="text"
                id="direccionBarbero"
                name="direccionBarbero"
                placeholder="Calle 10 nro 1010"
                value = usuario ? usuario.direccionBarbero : ""
                class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                )
                if errs
                    p(class="text-red-600 font-bold")=errs.direccionBarbero

          
          div
            label(for="whatsApp" class="block text-sm font-medium text-slate-700 mb-1") WhatsApp
                input(
                type="text"
                id="whatsApp"
                name="whatsApp"
                value = usuario ? usuario.whatsApp : ""
                placeholder="300 000 00 00"
                class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                )
                if errs
                    p(class="text-red-600 font-bold")=errs.whatsApp

                if errores
                  each err in errores 
                    if err.param == 'whatsApp'
                     p(class="text-red-600 font-bold")=err.msg
                    

          div
            label(for="email" class="block text-sm font-medium text-slate-700 mb-1") Email
                input(
                type="email"
                id="email"
                name="email"
                value = usuario ? usuario.email : ""
                placeholder="barbero@barbero.com"
                class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                )
                if errs
                    p(class="text-red-600 font-bold")=errs.email
                if errores
                  each err in errores 
                    if err.param == 'email'
                     p(class="text-red-600 font-bold")=err.msg
        
        //- Fin Datos Personales.
      
        hr(class="border-solid border-amber-400")
        
        
        //- Datos de configuración dentro de barberia


        //- Asignar una barbería  al barbero.
        div(class="grid grid-cols-1 md:grid-cols-4 gap-4")
          div
            label(for="idBarberia" class="block text-sm font-medium text-slate-700 mb-1") En cuál barbería estará?
            select(name="idBarberia" id = "idBarberia" class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500")
                option(value="" disabled selected) Selecciona una barbería
                each barberia in listadoBarberias
                    option(value=barberia.idPuntoVenta)= barberia.nombre 


         
          div
            label(for="comision" class="block text-sm font-medium text-slate-700 mb-1") Comisión
                input(
                type="number"
                id="comision"
                name="comision"
                min = "0"
                max= "100"
                step= "0.10"
                placeholder="30"
                class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                )
                if errs
                 p(class="text-red-600 font-bold")=errs.comision

          div
            label(for="tipoEmpleado" class="block text-sm font-medium text-slate-700 mb-1") Cargo
            select(name="tipoEmpleado" id = "tipoEmpleado" class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500")
                option(value="Barbero" ) Barbero 
                option(value="Administrador") Administrador
                option(value="Otro" ) Otro


          
          div
            label(for="activo" class="block text-sm font-medium text-slate-700 mb-1") Activo
            select(name="activo" id = "activo" class="block w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500")
                option(value="1") Si 
                option(value="0") No   

        //- Upload foto
        div
          label(for="foto" class="block text-sm font-medium text-slate-700 mb-1") Foto de la barbería
          div(
            class="mt-1 flex items-center justify-center rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 px-4 py-6 cursor-pointer hover:border-indigo-400 hover:bg-indigo-50 transition"
            onclick="document.getElementById('foto').click()"
          )
            div(class="text-center text-xs text-gray-500")
              span(class="block font-medium text-slate-700 mb-1") Haz clic para subir o arrastra una imagen
              span(class="block") JPG o PNG, máximo 2MB
          input(type="file" id="foto" name="foto" accept="image/*" class="hidden")


        div(class="flex justify-center")
            button(
                type="submit"
                class="px-5 py-2 w-4xl rounded-lg text-sm font-medium text-white bg-green-500 hover:bg-green-600 shadow-md transition cursor-pointer"
                )=btn
                
